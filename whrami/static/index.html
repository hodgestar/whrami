<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head
         content must come *after* these tags -->
    <meta name="description" content="Whrami">
    <meta name="author" content="Simon Cross">
    <link rel="icon" href="favicon.ico">

    <title>Where am i?</title>

    <!-- Bootstrap core CSS -->
    <link href="static/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- jquery -->
    <script type="text/javascript" src="static/vendor/jquery/js/jquery.min.js"></script>

    <!-- Custom styles for this template -->
    <link href="static/css/jumbotron-narrow.css" rel="stylesheet">

    <!-- Whrami Javascript -->
    <script type="text/javascript" src="static/js/whrami.js"></script>
  </head>

  <body>

    <div class="container">
      <div class="header clearfix">
        <nav>
          <ul class="nav nav-pills pull-right">
            <li role="presentation" class="active"><a href="#">Home</a></li>
            <li role="presentation"><a href="#">About</a></li>
            <li role="presentation"><a href="#">Contact</a></li>
          </ul>
        </nav>
        <h3 class="text-muted">Where am I?</h3>
      </div>

      <div id="whrami-splash-area" class="jumbotron">
        <h1>Where am I?</h1>
        <p class="lead">A text-based interactive fiction guessing game.</p>
        <p><a class="btn btn-lg btn-success whrami-play-btn" href="#"
              role="button">Play!</a></p>
      </div>

      <div id="whrami-play-area" class="row subject-matter hidden">
        <!-- List of received messages -->
        <div class="col-lg-6">
          <ul id="whrami-received-list" class="list-group">
            <li class="list-group-item whrami-no-messages">
                Nothing received yet. Please wait a moment ...
            </li>
          </ul>
        </div>

        <!-- Form for sending messages -->
        <div class="col-lg-6">
          <form id="whrami-publish-form" action="#">
           <div class="form-group">
             <div class="input-group">
               <input type="text" class="form-control whrami-publish-text">
               <span class="input-group-btn">
                   <button class="btn btn-default whrami-publish-btn"
                           type="button">Send</button>
               </span>
             </div>
           </div>
         </form>
        </div>
      </div>

      <footer class="footer">
        <p>&copy; 2015 Praekelt Foundation</p>
      </footer>

    </div> <!-- /container -->

    <script type="text/javascript">
    $(function () {
        var api_url = window.location.href.split("/")[2] + '/ws';
        var api = new whrami.WhramiApi(api_url, {debug: true});
        var recv = new whrami.WhramiReceiver(
            api, $("#whrami-received-list"));
        var pub = new whrami.WhramiPublisher(
            api, $("#whrami-publish-form"));
        var splash = new whrami.WhramiSplashArea(
            api, $("#whrami-splash-area"), $("#whrami-play-area"));
    });
    </script>
  </body>
</html>
